webpackJsonp([24],{"6ADa":function(t,s){},Aizz:function(t,s){},NOqV:function(t,s){},nU5n:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a,i=e("mvHQ"),o=e.n(i),r=e("bOdI"),n=e.n(r),d=(e("QP/A"),e("pyxX")),l=e.n(d),c=(e("cnGM"),e("S6j6")),u=e.n(c),m=(e("dKGA"),e("kSul")),f=e.n(m),p=(e("jgNZ"),e("syWm")),v=e.n(p),h=e("Dd8w"),g=e.n(h),_=e("yclV"),b=e("uaSg"),y=(e("8NGk"),e("NYxO")),S=(e("FDxC"),e("w+oK")),C=e.n(S),x={components:(a={},n()(a,C.a.name,C.a),n()(a,v.a.name,v.a),n()(a,f.a.name,f.a),a),name:"goods",props:["item"],methods:{gotoDetail:function(t){this.$emit("gotoDetail",t)},gotoAfterSales:function(t){this.$emit("gotoAfterSales",t)}}},D={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"goods-item",on:{click:function(s){t.gotoDetail(t.item)}}},[e("div",{staticClass:"thumb center-img"},[e("img",{attrs:{src:t.item.imageUrl}})]),t._v(" "),e("div",{staticClass:"detail"},[e("div",{staticClass:"goods-info"},[e("div",{staticClass:"title"},[t._v(t._s(t.item.skuName))]),t._v(" "),e("div",{staticClass:"meta"},[e("van-row",[e("van-col",{attrs:{span:"12"}},[e("div",{staticClass:"price"},[e("em",[t._v("¥")]),t._v(" "),e("span",[t._v(t._s(t.item.salePrice))])])]),t._v(" "),e("van-col",{staticStyle:{"text-align":"right","font-size":"0.2rem",color:"#999"},attrs:{span:"11"}},[e("div",[t._v(t._s("x"+t.item.quantity))])])],1)],1)])])])},staticRenderFns:[]};var I,N=e("VU/8")(x,D,!1,function(t){e("NOqV")},"data-v-621bfd5c",null).exports,O={computed:g()({},Object(y.b)(["invoice"]),{getaddress:function(){return this.address.addressStateName&&this.address.addressStateName.length>0?this.address.addressStateName+this.address.addressCityName+this.address.addressDistrictName+this.address.addressStreet:""}}),components:(I={pointGoods:N},n()(I,v.a.name,v.a),n()(I,f.a.name,f.a),n()(I,u.a.name,u.a),n()(I,l.a.name,l.a),I),data:function(){var t;return t={distribut:"",distribution:[{type:"DELIVERY",name:"快递"},{type:"SELF_DELIVERY",name:"门店自提"}],checkbox1:!0,getorderInfo:{},spinner1:1,orderDate:"",orderData:{bounsPoints:0,shippingType:"BOTH",quantity:0},oderdefault:{},address:{lastName:"",phonePrimary:""},chooseCoupon:!1},n()(t,"oderdefault",{}),n()(t,"msg",""),n()(t,"payInfo",{}),n()(t,"paytotalFee",0),t},mounted:function(){if(Object(_.a)("oderInfo").length>0){var t=Object(_.a)("oderInfo");this.getorderInfo=JSON.parse(t)}if(Object(b.d)(this.getorderInfo)){var s=this;this.$dialog.confirm({title:"温馨提示",mes:"订单已经提交",opts:function(){s.$router.go(-1)}})}else this.oderInfo()},methods:{oderInfo:function(){var t=this;Object(b.a)(this,"/api/order/defaultInfo",{},"get","获取中...",function(s){t.oderdefault=s,s.address&&(t.address=s.address),t.confirmOder()})},confirmOder:function(){var t=this,s=this.getorderInfo;this.address.lastName.length>0&&(s.name=this.address.lastName,s.phone=this.address.phonePrimary,s.city=this.address.addressCity,s.district=this.address.addressDistrict,s.state=this.address.addressState,s.street=this.address.addressStreet),Object(b.a)(this,"/api/promotion/exchange/confirm",{data:o()(s)},"get","",function(s){t.orderData=s.data})},gotoAddress:function(){this.$router.push({name:"addressList"})},switchlist:function(t,s){this.tabkey=s},gotopro:function(){this.$router.push({name:"protocol"})},gotoback:function(){this.$router.go(-1)},getuserInfo:function(){var t=this;Object(b.a)(this,"/api/personal/info",{},"get","",function(s){s&&(t.$store.dispatch("setUserInfo",s.info),t.$router.go(-1))})},gotoplay:function(){var t=this;0!=this.address.lastName.length?this.$dialog.confirm({title:"温馨提示",mes:"您确定兑换此商品",opts:function(){Object(b.a)(t,"/api/promotion/exchange",{data:o()(t.orderData)},"post","提交中...",function(s){t.$dialog.toast({mes:"兑换成功",timeout:1500,icon:"success",callback:function(){t.getuserInfo()}})})}}):this.$dialog.toast({mes:"请选择地址",timeout:1e3})}}},k={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("yd-layout",{attrs:{id:"orderSub"}},[e("yd-navbar",{attrs:{slot:"navbar",title:"订单提交",bgcolor:"#d41d0f",color:"#FFF"},slot:"navbar"},[e("router-link",{attrs:{slot:"left",to:""},nativeOn:{click:function(s){t.gotoback()}},slot:"left"},[e("yd-navbar-back-icon",{attrs:{color:"#FFF"}})],1)],1),t._v(" "),e("div",{staticClass:"userinfo",on:{click:function(s){t.gotoAddress()}}},[t.address.lastName.length>0?e("div",{staticClass:"defalutaddress"},[e("div",{staticClass:"infomation",staticStyle:{"font-size":".3rem"}},[e("span",{staticStyle:{"line-height":"0.5rem"}},[t._v(t._s(t.address.lastName))]),t._v(" "),e("span",{staticStyle:{"line-height":"0.5rem"}},[t._v(t._s(t.address.phonePrimary))]),t._v(" "),e("span",{staticStyle:{border:"1px solid #d41d0f","border-radius":"2px",padding:"2px 5px",color:"#d41d0f","font-size":"0.2rem"}},[t._v("默认")]),t._v(" "),e("p",{staticClass:"areaInfo"},[t._v(t._s(t.getaddress))])]),t._v(" "),e("span",{staticClass:"choose"})]):e("div",{staticClass:"defalutaddress"},[e("p",{staticClass:"noaddressInfo"},[t._v("请设置地址")]),t._v(" "),e("span",{staticClass:"choose"})])]),t._v(" "),e("yd-cell-group",{staticStyle:{"margin-top":"10px","z-index":"-1"}},[e("yd-cell-item",{attrs:{arrow:"",type:"label"}},[e("span",{attrs:{slot:"left"},slot:"left"},[t._v("支付方式")]),t._v(" "),e("span",{staticStyle:{"font-size":"0.3rem"},attrs:{slot:"right"},slot:"right"},[t._v("积分兑换")])]),t._v(" "),e("yd-cell-item",{attrs:{arrow:"",type:"label"}},[e("span",{attrs:{slot:"left"},slot:"left"},[t._v("配送方式")]),t._v(" "),"BOTH"==t.orderData.shippingType?e("select",{directives:[{name:"model",rawName:"v-model",value:t.distribut,expression:"distribut"}],staticClass:"main_3",attrs:{slot:"right"},on:{change:function(s){var e=Array.prototype.filter.call(s.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.distribut=s.target.multiple?e:e[0]}},slot:"right"},t._l(t.distribution,function(s){return e("option",{domProps:{value:s.type}},[t._v(t._s(s.name))])})):e("span",{staticStyle:{"font-size":"0.3rem"},attrs:{slot:"right"},slot:"right"},[t._v("\n          "+t._s("DELIVERY"==t.orderData.shippingType?"快递":"门店自提")+"\n      ")])]),t._v(" "),e("yd-cell-item",[e("yd-textarea",{attrs:{slot:"right",placeholder:"请输入留言(选填)",maxlength:"30"},slot:"right",model:{value:t.msg,callback:function(s){t.msg=s},expression:"msg"}})],1)],1),t._v(" "),e("div",{staticClass:"products"},[e("div",{staticClass:"yd-accordion-title",staticStyle:{"border-bottom":"1px solid #e3e3e3"}},[e("span",{staticStyle:{"padding-left":"0.3rem","font-size":"0.3rem"}},[t._v("订单商品")])]),t._v(" "),e("div",[e("h3",[t._v("商品")]),t._v(" "),e("ul",{staticClass:"por",attrs:{slot:"list"},slot:"list"},[e("li",[e("pointGoods",{attrs:{item:t.orderData}})],1)])])]),t._v(" "),e("div",{staticClass:"submitorder",attrs:{slot:"tabbar"},slot:"tabbar"},[e("div",{staticStyle:{width:"60%","text-align":"left","padding-left":"0.2rem"}},[t._v("所需积分:"),e("span",[t._v(t._s(t.orderData.bounsPoints))])]),t._v(" "),e("div",{staticClass:"subbtn",staticStyle:{width:"40%"},on:{click:t.gotoplay}},[t._v("积分兑换")])])],1)},staticRenderFns:[]};var $=e("VU/8")(O,k,!1,function(t){e("Aizz"),e("6ADa")},"data-v-779abc6b",null);s.default=$.exports}});