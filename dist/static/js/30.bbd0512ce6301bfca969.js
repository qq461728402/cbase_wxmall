webpackJsonp([30],{"/1yW":function(t,e){},MYII:function(t,e){},yoCj:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("uaSg"),a=(s("yclV"),{data:function(){return{datasfz:{tag:"insurance",type:"sfz"},dataxsz:{tag:"insurance",type:"xsz"},selected:"重庆市",options:[{text:"重庆市",value:"重庆市"},{text:"四川省",value:"四川省"},{text:"云南省",value:"云南省"}],companyName:"",companyId:"",username:"",carvNo:"渝",submitpars:{},mobile:"",sfz:"",sfzzm:"",sfzfm:"",sfzzmurl:"",sfzfmurl:"",idcard:"(^\\d{15}$)|(^\\d{18}$)|(^\\d{17}(\\d|X|x)$)",carNo:"^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[a-zA-Z]{1}[a-zA-Z0-9]{4}[A-Z0-9挂学警港澳]{1}$"}},components:{"vue-core-image-upload":s("ngqk").a},mounted:function(){this.companyId=this.$route.query.companyId,this.companyName=this.$route.query.companyName},methods:{gotoback:function(){this.$router.go(-1)},imageuploading:function(){this.$dialog.loading.open("图片正在上传...")},imageuploaded:function(t,e){this.$dialog.loading.close(),console.log(t),200==t.code&&("sfz"==e.type?this.sfzzmurl=t.result[0].url:this.sfzfmurl=t.result[0].url)},getCarvNo:function(){this.carvNo=this.carvNo.toLocaleUpperCase();var t=this.$refs.carvNo;0!=this.carvNo.length&&1==t.valid&&this.enquiredCarNo()},enquiredCarNo:function(){var t=this;Object(i.a)(this,"/api/insurance/quotation/enquired",{brand:this.carvNo},"post","获取报价中...",function(e){0!=e.status&&(t.carvNo="渝",t.$refs.carvNo.setFocus(),t.$dialog.toast({mes:e.msg,timeout:2e3}))})},getQuotation:function(){this.$refs.username;var t=this.$refs.carvNo,e=this.$refs.sfz,s=this.$refs.mobile;if(this.carvNo=this.carvNo.toLocaleUpperCase(),0!=this.username.length)if(0!=this.companyId.length)if(0!=this.carvNo.length)if(0==this.carvNo.length||0!=t.valid)if(0!=this.sfz.length)if(0==this.sfz.length||0!=e.valid)if(0!=this.mobile.length)if(0==this.mobile.length||0!=s.valid)if(0!=this.sfzzmurl.length)if(0!=this.sfzfmurl.length){var a={carNumber:this.carvNo,carOwner:this.username,identificationId:this.sfz,insuredCity:this.selected,primaryTelephone:this.mobile,identificationImg:this.sfzzmurl,vihicleLicenseImg:this.sfzfmurl,companyId:this.companyId},l=this;Object(i.a)(this,"/api/insurance/saveInsuranceEnquire",a,"post","获取报价中...",function(t){l.$dialog.alert({mes:t.msg,callback:function(){l.gotoback()}})})}else this.$dialog.toast({mes:"请上传行驶证",timeout:1e3});else this.$dialog.toast({mes:"请上传身份证正面",timeout:1e3});else this.$dialog.toast({mes:"请输入正确手机号",timeout:1e3});else this.$dialog.toast({mes:"请输入手机号",timeout:1e3});else this.$dialog.toast({mes:"请输入正确身份证",timeout:1e3});else this.$dialog.toast({mes:"请输入身份证",timeout:1e3});else this.$dialog.toast({mes:"请输入正确车牌号",timeout:1e3});else this.$dialog.toast({mes:"请输入车牌号",timeout:1e3});else this.$dialog.toast({mes:"没有获取保险公司",timeout:1e3});else this.$dialog.toast({mes:"请输入用户名",timeout:1e3})}}}),l={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("yd-layout",{attrs:{id:"fillInfor"}},[i("yd-navbar",{attrs:{slot:"navbar",title:"填写车主信息",bgcolor:"#d41d0f",color:"#FFF"},slot:"navbar"},[i("router-link",{attrs:{slot:"left",to:""},nativeOn:{click:function(e){t.gotoback()}},slot:"left"},[i("yd-navbar-back-icon",{attrs:{color:"#FFF"}})],1)],1),t._v(" "),i("yd-cell-group",[i("yd-cell-item",{attrs:{arrow:""}},[i("span",{attrs:{slot:"left"},slot:"left"},[t._v("投保城市")]),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],staticStyle:{color:"black"},attrs:{slot:"right"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selected=e.target.multiple?s:s[0]}},slot:"right"},t._l(t.options,function(e){return i("option",{domProps:{value:e.value}},[t._v("\n          "+t._s(e.text)+"\n        ")])}))]),t._v(" "),i("yd-cell-item",[i("span",{attrs:{slot:"left"},slot:"left"},[t._v("车主姓名")]),t._v(" "),i("yd-input",{ref:"username",attrs:{slot:"right",placeholder:"请输入车主姓名"},slot:"right",model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),t._v(" "),i("yd-cell-item",[i("span",{attrs:{slot:"left"},slot:"left"},[t._v("车牌号"),i("br")]),t._v(" "),i("div",{staticStyle:{"text-align":"left",width:"100%"},attrs:{slot:"right"},slot:"right"},[i("yd-input",{ref:"carvNo",staticStyle:{width:"65%",display:"inline-flex!important"},attrs:{id:"carNum",regex:t.carNo,placeholder:"请输入车牌号","on-blur":t.getCarvNo},model:{value:t.carvNo,callback:function(e){t.carvNo=e},expression:"carvNo"}}),t._v(" "),i("div",{staticStyle:{color:"#d41d0f",float:"right","line-height":"1rem"}},[t._v("例:渝A88888")])],1)]),t._v(" "),i("yd-cell-item",[i("span",{attrs:{slot:"left"},slot:"left"},[t._v("身份证")]),t._v(" "),i("yd-input",{ref:"sfz",attrs:{slot:"right",regex:t.idcard,placeholder:"请输入身份证"},slot:"right",model:{value:t.sfz,callback:function(e){t.sfz=e},expression:"sfz"}})],1),t._v(" "),i("yd-cell-item",[i("span",{attrs:{slot:"left"},slot:"left"},[t._v("联系电话")]),t._v(" "),i("yd-input",{ref:"mobile",attrs:{slot:"right",regex:"mobile",placeholder:"请输入联系电话"},slot:"right",model:{value:t.mobile,callback:function(e){t.mobile=e},expression:"mobile"}})],1),t._v(" "),i("yd-cell-item",{staticClass:"infm_1"},[i("span",{attrs:{slot:"left"},slot:"left"},[t._v("上传身份证")]),t._v(" "),i("div",{staticClass:"infm_2",attrs:{slot:"right"},slot:"right"},[i("vue-core-image-upload",{staticClass:"infm_3",attrs:{inputOfFile:"file",credentials:!1,crop:!1,data:t.datasfz,"max-file-size":5242880,url:"https://www.cqssqm.com/api/file/upload"},on:{imageuploading:t.imageuploading,imageuploaded:t.imageuploaded}},[t.sfzzmurl.length>0?i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.sfzzmurl,expression:"sfzzmurl"}],staticStyle:{width:"1.5rem",height:"1.5rem"},attrs:{src:""}}):i("img",{staticStyle:{width:"1.5rem",height:"1.5rem"},attrs:{src:s("VhXN")}})]),t._v(" "),i("p",{staticClass:"infm_7"},[t._v("注:传身份证正面 "),i("br"),t._v("(因保险公司需要仅用于购买车险)")])],1)]),t._v(" "),i("yd-cell-item",{staticClass:"infm_1"},[i("span",{attrs:{slot:"left"},slot:"left"},[t._v("上传行驶证")]),t._v(" "),i("div",{staticClass:"infm_2",attrs:{slot:"right"},slot:"right"},[i("vue-core-image-upload",{staticClass:"infm_3",attrs:{inputOfFile:"file",credentials:!1,crop:!1,data:t.dataxsz,"max-file-size":5242880,url:"https://www.cqssqm.com/api/file/upload"},on:{imageuploading:t.imageuploading,imageuploaded:t.imageuploaded}},[t.sfzfmurl.length>0?i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.sfzfmurl,expression:"sfzfmurl"}],staticStyle:{width:"1.5rem",height:"1.5rem"},attrs:{src:""}}):i("img",{staticStyle:{width:"1.5rem",height:"1.5rem"},attrs:{src:s("VhXN")}})]),t._v(" "),i("p",{staticClass:"infm_7"},[t._v("注:因保险公司需要仅用于购买车险")])],1)])],1),t._v(" "),i("yd-button",{staticClass:"infm_12",attrs:{size:"large",type:"primary"},nativeOn:{click:function(e){t.getQuotation(e)}}},[t._v("获取报价")])],1)},staticRenderFns:[]};var o=s("VU/8")(a,l,!1,function(t){s("MYII"),s("/1yW")},"data-v-5e0a5b85",null);e.default=o.exports}});