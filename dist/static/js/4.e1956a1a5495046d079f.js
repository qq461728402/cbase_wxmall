webpackJsonp([4],{"3cvH":function(t,e){},"5zde":function(t,e,o){o("zQR9"),o("qyJz"),t.exports=o("FeBl").Array.from},"6LGg":function(t,e){},Gp7Q:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o("Gu7T"),r=o.n(i),s=o("Dd8w"),n=o.n(s),a=o("uaSg"),l=o("X97J"),c=o("NYxO"),u={computed:n()({},Object(c.b)(["scrollPosion"])),components:{hotProductList:l.a},data:function(){return{theme:1,categoryId:"",page:1,pageSize:10,queryKey:0,list:[]}},mounted:function(){var t=this;document.getElementById("scrollView").addEventListener("scroll",function(){var e=document.getElementById("scrollView").scrollTop;t.$store.dispatch("setscrollPosion",e)})},beforeRouteEnter:function(t,e,o){o(function(t){"productsDetail"!=e.name?(t.categoryId="",t.$route.query.categoryId&&(t.categoryId=t.$route.query.categoryId),t.queryKey="",t.$route.query.queryKey&&(t.queryKey=t.$route.query.queryKey),t.list=[],t.page=1,t.products()):document.getElementById("scrollView").scrollTop=t.scrollPosion})},methods:{gotoback:function(){this.$router.go(-2)},changeClass:function(){1==this.theme?this.theme=4:this.theme=1},search:function(){this.loadList()},products:function(){var t=this,e={categoryId:this.categoryId,page:this.page,pageSize:this.pageSize};0!=this.queryKey.length&&(e.queryKey=this.queryKey),Object(a.a)(this,"/admin/product/hotSku",e,"get",1==this.page?"加载中...":"",function(e){1==t.page?e.data.recordList?(t.list=e.data.recordList,t.$refs.pullrefreshDemo.$emit("ydui.pullrefresh.finishLoad"),t.$refs.infinitescrollDemo.$emit("ydui.infinitescroll.reInit")):t.list=[]:e.data.recordList?(t.list=[].concat(r()(t.list),r()(e.data.recordList)),e.data.recordList&&t.page==e.data.endIndex?t.$refs.infinitescrollDemo.$emit("ydui.infinitescroll.loadedDone"):t.$refs.infinitescrollDemo.$emit("ydui.infinitescroll.finishLoad")):t.$refs.infinitescrollDemo.$emit("ydui.infinitescroll.loadedDone")})},loadList:function(){this.page=1,this.products()},loadMore:function(){this.page=this.page+1,this.products()},gotoDetail:function(t){this.$router.push({name:"productsDetail",query:{skuId:t.skuId}})}}},d={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("yd-layout",{attrs:{id:"prolist"}},[o("yd-navbar",{attrs:{slot:"navbar",title:"商品列表",bgcolor:"#d41d0f",color:"#FFF"},slot:"navbar"},[o("router-link",{attrs:{slot:"left",to:""},nativeOn:{click:function(e){t.gotoback()}},slot:"left"},[o("yd-navbar-back-icon",{attrs:{color:"#FFF"}})],1)],1),t._v(" "),o("div",{staticStyle:{"background-color":"#ffffff"},attrs:{slot:"navbar",id:"my_search"},slot:"navbar"},[o("yd-flexbox",{staticStyle:{margin:"8px 0","margin-left":"20px"}},[o("yd-flexbox-item",{attrs:{id:"searchId"}},[o("form",{attrs:{action:"javascript:return true;"}},[o("span",{staticClass:"icon_search"}),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.queryKey,expression:"queryKey"}],staticClass:"search",attrs:{type:"search",placeholder:"点击搜索"},domProps:{value:t.queryKey},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.search()},input:function(e){e.target.composing||(t.queryKey=e.target.value)}}})])]),t._v(" "),o("div",{staticClass:"classification",on:{click:t.changeClass}},[1==t.theme?o("yd-icon",{attrs:{slot:"icon",name:"changyongfenlei",size:".42rem",custom:"",color:"#dcdcdc"},slot:"icon"}):4==t.theme?o("yd-icon",{attrs:{slot:"icon",name:"liebiao",size:".42rem",custom:"",color:"#dcdcdc"},slot:"icon"}):t._e()],1)],1)],1),t._v(" "),o("yd-pullrefresh",{ref:"pullrefreshDemo",attrs:{callback:t.loadList}},[o("yd-infinitescroll",{ref:"infinitescrollDemo",attrs:{callback:t.loadMore}},[o("hotProductList",{attrs:{slot:"list",productlist:t.list,theme:"1"},on:{gotoDetail:t.gotoDetail},slot:"list"}),t._v(" "),o("span",{attrs:{slot:"doneTip"},slot:"doneTip"},[t._v("我是有底线的")])],1)],1)],1)},staticRenderFns:[]};var f=o("VU/8")(u,d,!1,function(t){o("MQPl"),o("z3T0")},"data-v-4596cace",null);e.default=f.exports},Gu7T:function(t,e,o){"use strict";e.__esModule=!0;var i,r=o("c/Tr"),s=(i=r)&&i.__esModule?i:{default:i};e.default=function(t){if(Array.isArray(t)){for(var e=0,o=Array(t.length);e<t.length;e++)o[e]=t[e];return o}return(0,s.default)(t)}},MQPl:function(t,e){},X97J:function(t,e,o){"use strict";var i,r=o("bOdI"),s=o.n(r),n=(o("dKGA"),o("kSul")),a=o.n(n),l=(o("jgNZ"),o("syWm")),c=o.n(l),u={components:(i={},s()(i,c.a.name,c.a),s()(i,a.a.name,a.a),i),name:"productlist",props:["productlist","theme"],methods:{gotoDetail:function(t){this.$emit("gotoDetail",t)}}},d={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"hotlist"}},[o("yd-list",{attrs:{theme:t.theme}},t._l(t.productlist,function(e,i){return o("yd-list-item",{key:i,nativeOn:{click:function(o){t.gotoDetail(e)}}},[o("div",{attrs:{slot:"img"},slot:"img"},[o("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.url,expression:"item.url"}]}),t._v(" "),0==e.isAvalible?o("i",{staticClass:"sell-out"}):t._e()]),t._v(" "),o("span",{staticStyle:{"font-weight":"normal",color:"#000"},attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.skuName))]),t._v(" "),o("yd-list-other",{attrs:{slot:"other"},slot:"other"},[o("div",[null!=e.salePrice?o("span",{staticClass:"demo-list-price",staticStyle:{color:"red"}},[o("em",[t._v("¥")]),t._v(t._s(e.salePrice))]):t._e(),t._v(" "),null!=e.retailPrice?o("span",{staticClass:"demo-list-del-price",staticStyle:{"font-size":".2rem","text-decoration":"line-through"}},[o("em",[t._v("¥")]),t._v(t._s(e.retailPrice))]):t._e()]),t._v(" "),o("div",[o("span",{staticStyle:{color:"#6e6f70"}},[t._v("已售 "),o("span",{staticStyle:{color:"#ff7d49"}},[t._v(t._s(e.salesCount?e.salesCount:"0"))]),t._v(" | "),o("span",{staticStyle:{color:"#6e6f70"}},[t._v("评论")]),t._v(" "),o("span",{staticStyle:{color:"#ff7d49"}},[t._v(t._s(e.reviewCount?e.reviewCount:"0"))])]),0==e.isAvalible?o("span",{staticStyle:{"font-weight":"bold",color:"#d41d0f"}},[t._v(t._s(e.unAvalibleReson))]):t._e()])])],1)}))],1)},staticRenderFns:[]};var f=o("VU/8")(u,d,!1,function(t){o("3cvH"),o("6LGg")},"data-v-5e78c348",null);e.a=f.exports},"c/Tr":function(t,e,o){t.exports={default:o("5zde"),__esModule:!0}},fBQ2:function(t,e,o){"use strict";var i=o("evD5"),r=o("X8DO");t.exports=function(t,e,o){e in t?i.f(t,e,r(0,o)):t[e]=o}},qyJz:function(t,e,o){"use strict";var i=o("+ZMJ"),r=o("kM2E"),s=o("sB3e"),n=o("msXi"),a=o("Mhyx"),l=o("QRG4"),c=o("fBQ2"),u=o("3fs2");r(r.S+r.F*!o("dY0y")(function(t){Array.from(t)}),"Array",{from:function(t){var e,o,r,d,f=s(t),y="function"==typeof this?this:Array,m=arguments.length,v=m>1?arguments[1]:void 0,h=void 0!==v,p=0,g=u(f);if(h&&(v=i(v,m>2?arguments[2]:void 0,2)),void 0==g||y==Array&&a(g))for(o=new y(e=l(f.length));e>p;p++)c(o,p,h?v(f[p],p):f[p]);else for(d=g.call(f),o=new y;!(r=d.next()).done;p++)c(o,p,h?n(d,v,[r.value,p],!0):r.value);return o.length=p,o}})},z3T0:function(t,e){}});