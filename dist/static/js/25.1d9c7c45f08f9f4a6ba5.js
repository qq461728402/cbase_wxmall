webpackJsonp([25],{OBFM:function(t,e){},fg7X:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("mvHQ"),i=s.n(a),n=s("uaSg"),r=s("yclV"),o={data:function(){return{show1:!1,data:{},giftlist:[],giftItem:[],defelutaddress:{},payURL:"",showWarn:!1,selectItem:{},dealRule:!1,tempgift:{}}},mounted:function(){var t=Object(r.a)("insuranceInfo");t.code?(this.data=t,t.gifts.length>0&&(this.giftlist=t.gifts)):this.gotoback()},beforeRouteEnter:function(t,e,s){s(function(t){if("insurance_type"==e.name){var s=Object(r.a)("insuranceInfo");t.data=s,s.gifts.length>0&&(t.giftlist=s.gifts)}})},beforeRouteLeave:function(t,e,s){s(function(t){})},activated:function(){this.addressList()},methods:{gotoback:function(){this.$router.go(-1)},gotoAddressList:function(){this.$router.push({name:"addressList"})},addressList:function(){var t=this;Object(n.a)(this,"/api/order/addressList",{},"get","加载中...",function(e){e.address&&e.address.forEach(function(e){1==e.default&&(t.defelutaddress=e)})})},okruel:function(){this.dealRule=!0,this.showWarn=!1},selectgifs:function(t,e){0==this.dealRule?this.showWarn=!0:(t.select=!t.select,1==t.select&&this.giftlist.forEach(function(e){e.giftWrapId!=t.giftWrapId&&(e.select=!1)}))},jdment:function(){var t=this,e=!1;this.giftlist.forEach(function(t){1==t.select&&(e=!0)}),this.giftlist.length>0&&0==e?this.$dialog.confirm({title:"温馨提示",mes:"您有礼包没有选择是否继续！",opts:function(){t.confirm1()}}):this.confirm1()},confirm1:function(){var t=!1,e="";if(this.giftlist.forEach(function(s){1==s.select&&(t=!0,e=s.giftWrapId)}),this.giftlist.length>0&&0==t&&!this.defelutaddress.lastName)this.$dialog.toast({mes:"请选择收货地址",timeout:1e3});else{var s={},a={};s.tbid=this.data.tbid,s.brand=this.data.brand,s.contents=this.data.contents,s.giftWrapId=e,s.zfje=this.data.totleFee,s.bussinessFee=this.data.bussinessFee,s.addrModel=a,s.taxFee=this.data.taxFee,this.defelutaddress&&(a.receiver=this.defelutaddress.lastName,a.phone=this.defelutaddress.phonePrimary,a.state=this.defelutaddress.addressState,a.city=this.defelutaddress.addressCity,a.district=this.defelutaddress.addressDistrict,a.detail=this.defelutaddress.addressStreet);Object(n.a)(this,"/api/insurance/confirm",{data:i()(s)},"post","提交中...",function(t){window.location.href="http://wx.cxcq.cpic.com.cn/weixinpay/JSAPIPay.aspx?tbid="+s.tbid+"&fee=0.01&partnerid=cpicshangshe&backUrl=http://joewee.mynatapp.cc"})}}}},d={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("yd-layout",{attrs:{id:"insurancesure"}},[s("yd-navbar",{attrs:{slot:"navbar",title:"险种确认",bgcolor:"#d41d0f",color:"#FFF"},slot:"navbar"},[s("router-link",{attrs:{slot:"left",to:""},nativeOn:{click:function(e){t.gotoback()}},slot:"left"},[s("yd-navbar-back-icon",{attrs:{color:"#FFF"}})],1)],1),t._v(" "),s("yd-cell-group",[s("yd-cell-item",[s("span",{attrs:{slot:"left"},slot:"left"},[t._v("车辆信息选择")]),t._v(" "),s("span",{attrs:{slot:"right"},slot:"right"},[t._v(t._s(t.data.brand))])])],1),t._v(" "),t.data.fees?s("yd-cell-group",{staticStyle:{"margin-top":"10px"},attrs:{title:"保险信息"}},t._l(t.data.fees,function(e,a){return s("yd-cell-item",{key:a},[s("span",{attrs:{slot:"left"},slot:"left"},[t._v(t._s(e.xzmc))]),t._v(" "),s("span",{staticStyle:{color:"red"},attrs:{slot:"right"},slot:"right"},[t._v(t._s(e.bf))])])})):t._e(),t._v(" "),s("yd-cell-group",{staticStyle:{"margin-top":"10px"},attrs:{title:"收货地址"},nativeOn:{click:function(e){t.gotoAddressList()}}},[t.defelutaddress.lastName?s("div",{staticStyle:{padding:"0.2rem"}},[s("span",{staticStyle:{"line-height":"0.3rem","font-size":"0.25rem"}},[t._v(t._s(t.defelutaddress.lastName)+" ")]),s("span",{staticStyle:{"line-height":"0.3rem","font-size":"0.25rem"}},[t._v(t._s(t.defelutaddress.phonePrimary))]),t._v(" "),s("span",{staticStyle:{border:"1px solid #d41d0f","border-radius":"2px",padding:"2px 5px",color:"#d41d0f","font-size":"0.2rem"}},[t._v("默认")]),t._v(" "),s("p",{staticClass:"areaInfo"},[t._v(t._s(t.defelutaddress.addressStateName+t.defelutaddress.addressCityName+t.defelutaddress.addressDistrictName+t.defelutaddress.addressStreet))]),t._v(" "),s("span",{staticClass:"yd-cell-arrow",staticStyle:{position:"absolute",top:"53%",right:"15px"}})]):s("div",[s("p",{staticClass:"noaddressInfo"},[t._v("请设置地址")]),t._v(" "),s("span",{staticClass:"yd-cell-arrow",staticStyle:{position:"absolute",top:"53%",right:"15px"}})])]),t._v(" "),t.data.fees?s("yd-cell-group",{staticStyle:{"margin-top":"10px"},attrs:{title:"选择礼包"}},[s("ul",{staticClass:"bg_ul"},t._l(t.giftlist,function(e,a){return s("li",{key:a,on:{click:function(s){t.selectgifs(e,a)}}},[s("label",{staticClass:"yd-checkbox yd-checkbox-circle"},[s("span",{staticClass:"yd-checkbox-icon",class:{"selectyd-checkbox-icon":1==e.select},staticStyle:{width:"20px",height:"20px",color:"rgb(255, 0, 0)"}},[s("i",{staticStyle:{width:"6px",height:"12px"}})]),s("span",{staticClass:"yd-checkbox-text",staticStyle:{"font-size":"0.2rem","line-height":"20px"}},[t._v(t._s(e.name))])])])}))]):t._e(),t._v(" "),s("div",{staticClass:"sure_9",attrs:{slot:"tabbar"},slot:"tabbar"},[s("yd-button",{staticClass:"sure_10",attrs:{size:"large"}},[t._v("实际支付:¥"+t._s(t.data.totleFee))]),t._v(" "),s("yd-button",{staticClass:"sure_11",attrs:{size:"large"},nativeOn:{click:function(e){t.jdment(e)}}},[t._v("支付确认")])],1),t._v(" "),s("yd-popup",{attrs:{position:"bottom",width:"40%"},model:{value:t.showWarn,callback:function(e){t.showWarn=e},expression:"showWarn"}},[s("div",{staticStyle:{display:"flex","text-align":"center"},attrs:{slot:"top"},slot:"top"},[s("p",{staticStyle:{padding:"0.2rem","line-height":"0.3rem","font-size":"0.3rem",width:"97%"}},[t._v("会员须知")]),t._v(" "),s("yd-icon",{staticStyle:{padding:"0.1rem"},attrs:{slot:"icon",name:"quxiao",color:"#c1c2c3",size:"0.4rem",custom:""},nativeOn:{click:function(e){t.showWarn=!t.showWarn}},slot:"icon"})],1),t._v(" "),s("div",{staticStyle:{padding:"0.2rem"}},[s("p",{staticStyle:{"margin-top":"0.2rem","font-size":"0.25rem"}},[t._v("1、  加入商社车管家会员可免费获赠新世纪购物卡、爱车全年保养（美容）套餐、会员积分、爱车免费全车检测等系列会员礼包；")]),t._v(" "),s("p",{staticStyle:{"font-size":"0.27rem"}},[t._v("2、  获赠的礼包根据会员等级发放，会员礼包价值大小与会员等级高低相匹配；")]),t._v(" "),s("p",{staticStyle:{"font-size":"0.27rem"}},[t._v("3、  会员礼包中的新世纪购物卡将以实物方式配送（或上门自提）。会员积分将自动累计至个人中心—我的积分，积分为1分对应1元现金，会员可在车管家微信商城购物时全额抵扣。爱车保养（美容）套餐及免费检测将以线上券的方式发放至个人中心，会员可在有效期内预约到店服务。")])]),t._v(" "),s("yd-button",{staticStyle:{"background-color":"#d41d0f","margin-bottom":"0px","margin-top":"0px"},attrs:{slot:"bottom",size:"large",type:"primary"},nativeOn:{click:function(e){t.okruel()}},slot:"bottom"},[t._v("确定")])],1)],1)},staticRenderFns:[]};var l=s("VU/8")(o,d,!1,function(t){s("OBFM"),s("qy0t")},"data-v-70854f2e",null);e.default=l.exports},qy0t:function(t,e){}});