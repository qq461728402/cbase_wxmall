webpackJsonp([41],{RLFp:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("uaSg"),c={data:function(){return{initindex:0,nums:10,categories:[],catItemlist:[],cacheCatItemList:[],caturl:"",caturllist:[],selectcategoryId:""}},mounted:function(){this.selectcategoryId=this.$route.query.categoryId,this.getData()},beforeRouteEnter:function(t,e,a){a(function(t){"home"==e.name&&(t.selectcategoryId=t.$route.query.categoryId,t.getData())})},beforeRouteLeave:function(t,e,a){a(function(t){})},methods:{gotoback:function(){this.$router.go(-2)},getData:function(){var t=this;Object(s.a)(this,"/api/mall/category",this.loginpas,"post","加载中...",function(e){if(e.categories){for(var a in t.cacheCatItemList=e.categories,e.categories)e.categories[a].select=!1,t.selectcategoryId.length>0&&t.selectcategoryId==e.categories[a].categoryId&&(e.categories[a].select=!0,t.selectItemCategories(e.categories[a].categoryId,a)),0==t.selectcategoryId.length&&a==t.initindex&&(e.categories[a].select=!0,t.selectItemCategories(e.categories[a].categoryId,a));t.categories=e.categories}})},selectItemCategories:function(t,e){var a=this;this.catItemlist=void 0!=a.cacheCatItemList[e].catItemlist?a.cacheCatItemList[e].catItemlist:[],a.caturllist.length>=e&&(this.caturl=a.caturllist[e]?a.caturllist[e]:""),this.catItemlist.length>0||Object(s.a)(this,"/api/mall/category",{parentId:t},"post",0==this.catItemlist.length?"加载中...":"",function(t){t.categories?(a.caturllist[e]=t.url,a.cacheCatItemList[e].catItemlist=t.categories,a.catItemlist=t.categories,a.caturl=t.url):(a.caturllist[e]="",a.cacheCatItemList[e].catItemlist=[],a.catItemlist=[])})},selectItem:function(t){for(var e in this.categories)e==t?this.categories[t].select=!0:this.categories[e].select=!1;this.selectItemCategories(this.categories[t].categoryId,t)},gotoList:function(t){this.$router.push({path:"/home/productsList",query:{categoryId:t.categoryId}})}}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("yd-layout",{attrs:{id:"carPro"}},[a("yd-navbar",{attrs:{slot:"navbar",title:"车品商城",bgcolor:"#d41d0f",color:"#FFF"},slot:"navbar"},[a("router-link",{attrs:{slot:"left",to:""},nativeOn:{click:function(e){t.gotoback()}},slot:"left"},[a("yd-navbar-back-icon",{attrs:{color:"#FFF"}})],1)],1),t._v(" "),a("div",{staticClass:"yd-scrolltab"},[a("div",{staticClass:"yd-scrolltab-nav"},t._l(t.categories,function(e,s){return a("a",{key:s,staticClass:"yd-scrolltab-item",class:{"yd-scrolltab-active":e.select},attrs:{href:"javascript:;"},on:{click:function(e){t.selectItem(s)}}},[a("div",{staticClass:"yd-scrolltab-icon"},[a("i",{staticClass:"demo-icons-category1"})]),t._v(" "),a("div",{staticClass:"yd-scrolltab-title",staticStyle:{"font-size":".28rem"}},[t._v(t._s(e.categoryName))])])})),t._v(" "),a("div",{staticClass:"yd-scrolltab-content"},[t.caturl&&t.caturl.length>0?a("div",[a("img",{attrs:{src:t.caturl,width:"100%"}})]):t._e(),t._v(" "),a("yd-grids-group",{attrs:{rows:3}},t._l(t.catItemlist,function(e,s){return a("yd-grids-item",{key:s,attrs:{link:{name:"productsList",query:{categoryId:e.categoryId}}}},[a("img",{attrs:{slot:"icon",src:e.imgUrl},slot:"icon"}),t._v(" "),a("span",{attrs:{slot:"text"},slot:"text"},[t._v(t._s(e.categoryName))])])}))],1)])],1)},staticRenderFns:[]};var r=a("VU/8")(c,i,!1,function(t){a("fi+0")},null,null);e.default=r.exports},"fi+0":function(t,e){}});