webpackJsonp([59],{eyje:function(t,e){},ozKw:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("uaSg"),o=(s("yclV"),{data:function(){return{addressInfo:{detail:""},maintain:"",addressId:"",username:"",mobile:"",show1:!1,model1:"",ready:!1,areas:[],ydswitch:!1}},mounted:function(){this.getarea(),this.maintain=this.$route.query.ismaintain,2==this.maintain?(this.addressId=this.$route.query.addressId,this.getDetail()):(this.addressInfo={detail:""},this.model1="")},methods:{gotoback:function(){this.$router.go(-1)},result1:function(t){this.model1=t.itemName1+" "+t.itemName2+" "+t.itemName3,this.addressInfo.state=t.itemValue1,this.addressInfo.stateName=t.itemName1,this.addressInfo.city=t.itemValue2,this.addressInfo.cityName=t.itemName2,this.addressInfo.districtName=t.itemName3,this.addressInfo.district=t.itemValue3},getarea:function(){var t=this;Object(a.a)(this,"/api/city/areas",{},"get","",function(e){t.areas=e.areas,t.ready=!0})},getDetail:function(){var t=this;Object(a.a)(this,"/api/personal/addr",{addressId:this.addressId},"get","加载中...",function(e){t.addressInfo=e.addr,1==t.addressInfo.isDeafult?t.addressInfo.isDeafult=!0:t.addressInfo.isDeafult=!1,t.model1=e.addr.stateName+" "+e.addr.cityName+" "+e.addr.districtName})},save:function(){var t=this.$refs.mobile;0!=this.addressInfo.receiver.length?0!=this.addressInfo.phone.length&&0!=t.valid?0!=this.model1.length?0!=this.addressInfo.detail.length?(1==this.addressInfo.isDeafult?this.addressInfo.isDeafult=1:this.addressInfo.isDeafult=0,2==this.maintain?this.rperAddress():this.addAddress()):this.$dialog.toast({mes:"请输入详细地址",timeout:1e3}):this.$dialog.toast({mes:"请选择所在地区",timeout:1e3}):this.$dialog.toast({mes:"请输入正确手机号",timeout:1e3}):vues.$dialog.toast({mes:"请输入收货人姓名!",timeout:1e3})},rperAddress:function(){this.addressInfo.addressId=this.addressId;var t=this;Object(a.a)(this,"/api/personal/addr/update",this.addressInfo,"post","修改中...",function(e){t.$dialog.toast({mes:"修改成功!",timeout:1e3,icon:"success",callback:function(){t.$router.go(-1)}})})},addAddress:function(){var t=this;Object(a.a)(this,"/api/personal/addr/add",this.addressInfo,"post","添加中...",function(e){t.$dialog.toast({mes:"添加成功!",timeout:1e3,icon:"success",callback:function(){t.$router.go(-1)}})})}}}),i={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("yd-layout",{attrs:{id:"addAddress"}},[s("yd-navbar",{attrs:{slot:"navbar",title:"收货地址",bgcolor:"#d41d0f",color:"#FFF"},slot:"navbar"},[s("router-link",{attrs:{slot:"left",to:""},nativeOn:{click:function(e){t.gotoback()}},slot:"left"},[s("yd-navbar-back-icon",{attrs:{color:"#FFF"}})],1)],1),t._v(" "),s("yd-cell-group",[s("yd-cell-item",[s("span",{attrs:{slot:"left"},slot:"left"},[t._v("收货人姓名")]),t._v(" "),s("yd-input",{ref:"username",attrs:{slot:"right",placeholder:"请输入收货人姓名"},slot:"right",model:{value:t.addressInfo.receiver,callback:function(e){t.$set(t.addressInfo,"receiver",e)},expression:"addressInfo.receiver"}})],1),t._v(" "),s("yd-cell-item",[s("span",{attrs:{slot:"left"},slot:"left"},[t._v("手机号")]),t._v(" "),s("yd-input",{ref:"mobile",attrs:{slot:"right",regex:"mobile",placeholder:"请输入手机号"},slot:"right",model:{value:t.addressInfo.phone,callback:function(e){t.$set(t.addressInfo,"phone",e)},expression:"addressInfo.phone"}})],1),t._v(" "),s("yd-cell-item",{attrs:{arrow:""}},[s("span",{attrs:{slot:"left"},slot:"left"},[t._v("所在地区")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.model1,expression:"model1"}],staticStyle:{padding:"0px","margin-bottom":"0px"},attrs:{slot:"right",type:"text",readonly:"",placeholder:"请选择所在地区"},domProps:{value:t.model1},on:{click:function(e){e.stopPropagation(),t.show1=!0},input:function(e){e.target.composing||(t.model1=e.target.value)}},slot:"right"})]),t._v(" "),s("yd-cityselect",{ref:"cityselectDemo",attrs:{callback:t.result1,items:t.areas,ready:t.ready},model:{value:t.show1,callback:function(e){t.show1=e},expression:"show1"}}),t._v(" "),s("yd-cell-item",[s("span",{attrs:{slot:"left"},slot:"left"},[t._v("详细地址")]),t._v(" "),s("yd-textarea",{attrs:{slot:"right",placeholder:"请输入详细地址",maxlength:"100"},slot:"right",model:{value:t.addressInfo.detail,callback:function(e){t.$set(t.addressInfo,"detail",e)},expression:"addressInfo.detail"}})],1),t._v(" "),s("yd-cell-item",{attrs:{type:"label"}},[s("div",{attrs:{slot:"left"},slot:"left"},[t._v("设为默认地址")]),t._v(" "),s("yd-switch",{attrs:{slot:"right",color:"#d41d0f"},slot:"right",model:{value:t.addressInfo.isDeafult,callback:function(e){t.$set(t.addressInfo,"isDeafult",e)},expression:"addressInfo.isDeafult"}})],1)],1),t._v(" "),s("yd-button",{staticClass:"address_1",attrs:{slot:"tabbar",size:"large",type:"primary",color:"#fff",bgcolor:"#d41d0f"},nativeOn:{click:function(e){t.save()}},slot:"tabbar"},[t._v("保存并使用")])],1)},staticRenderFns:[]};var d=s("VU/8")(o,i,!1,function(t){s("eyje")},null,null);e.default=d.exports}});