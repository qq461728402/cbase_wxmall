webpackJsonp([7],{"2jTG":function(t,s,o){t.exports=o.p+"static/img/cardtouxiang.4258359.jpg"},BwLt:function(t,s,o){t.exports=o.p+"static/img/zm.7702b4b.png"},"T+sq":function(t,s){},T3Sd:function(t,s,o){t.exports=o.p+"static/img/fm.817e656.png"},fVXH:function(t,s){},lmVz:function(t,s,o){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i={data:function(){return{isShow:!0,txm:"DPSD1234567890"}},mounted:function(){!function(){function t(){var t=document.getElementsByTagName("p")[0],s=document.getElementsByTagName("html")[0],o=s.clientWidth,i=s.clientHeight,e=o>i?o:i,n=o>i?i:o;t.style.width=e+"px",t.style.height=n+"px"}t(),window.addEventListener("resize",t)}()},methods:{init:function(t){this.txm=t,JsBarcode("#barcode",this.txm,{width:5,height:150,displayValue:!1})},close:function(){this.$emit("close")},showToggle:function(){this.isShow=!this.isShow}}},e={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"show"},[i("p",[i("yd-icon",{staticStyle:{color:"#999999",position:"fixed",left:"10px",top:"10px"},attrs:{name:"error-outline"},nativeOn:{click:function(s){t.close(s)}}}),t._v(" "),i("img",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticStyle:{width:"80%","border-radius":"10px"},attrs:{src:o("BwLt")},on:{click:t.showToggle}}),t._v(" "),i("i",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticStyle:{position:"fixed","font-style":"normal",bottom:"20%","font-size":"13px",display:"block",color:"white","text-shadow":"black 0.1em 0.1em 0.2em"}},[t._v("会员卡号："+t._s(t.txm))]),t._v(" "),i("svg",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticStyle:{width:"70%",position:"fixed"},attrs:{id:"barcode"}}),t._v(" "),i("img",{directives:[{name:"show",rawName:"v-show",value:!t.isShow,expression:"!isShow"}],staticStyle:{width:"80%","border-radius":"10px"},attrs:{src:o("T3Sd")},on:{click:t.showToggle}})],1)])},staticRenderFns:[]};var n=o("VU/8")(i,e,!1,function(t){o("T+sq")},"data-v-355d885c",null).exports,a=o("uaSg"),c={components:{show:n},data:function(){return{iscarInfo:{customerName:"",loyaltyNumber:"",storeName:"",bonusPoints:"",other:""},isShow:!1}},activated:function(){this.loyalty()},methods:{loyalty:function(){var t=this;Object(a.a)(this,"/api/customer/loyalty",{},"get","",function(s){s&&200==s.code&&(t.iscarInfo=s)})},explain:function(){this.$router.push({name:"Explain"})},binding:function(){this.$router.push({name:"Binding"})},show:function(){var t=this;0!=this.iscarInfo.loyaltyNumber.length&&(this.isShow=!0,this.$nextTick(function(){t.$refs.showcars.init(t.iscarInfo.loyaltyNumber)}))},closecar:function(){this.isShow=!1},exchange:function(){this.$router.push({path:"/home/PointsList"})},mycoupons:function(){this.$router.push({name:"myCoupons"})},getcoupons:function(){this.$router.push({path:"/home/getcoupons"})}}},l={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("yd-layout",[i("yd-navbar",{attrs:{slot:"navbar",title:"会员中心",bgcolor:"#d41d0f",color:"#FFF"},slot:"navbar"}),t._v(" "),i("div",{staticClass:"g-header",staticStyle:{width:"100%"}},[i("div",{staticClass:"m-content",on:{click:t.show}},[i("div",{staticStyle:{position:"absolute",top:"0.2rem",right:"0.2rem","font-size":"0.3rem",color:"#ffffff"}},[t._v("\n                "+t._s(t.iscarInfo.storeName)+"\n            ")]),t._v(" "),t.iscarInfo.loyaltyNumber.length>0?i("div",{staticClass:"m-info"},[i("div",{staticClass:"u-avatarUrl"},[i("img",{attrs:{src:o("2jTG")}})]),t._v(" "),i("div",{staticClass:"m-right"},[i("div",{staticClass:"u-nickname"},[t._v(t._s("卡号:"+t.iscarInfo.loyaltyNumber))]),t._v(" "),i("div",{staticClass:"u-nickname"},[t._v(t._s("姓名:"+t.iscarInfo.customerName))])])]):i("div",{staticStyle:{position:"absolute",bottom:"0",width:"100%"}},[i("div",{staticClass:"yd-cell-item",staticStyle:{"background-color":"#000",color:"#fff"},on:{click:function(s){s.stopPropagation(),t.binding(s)}}},[i("div",{staticClass:"yd-cell-left"},[i("span",{staticClass:"yd-cell-icon"},[i("i",{staticClass:"icon-custom-vip",staticStyle:{"font-size":"0.35rem",color:"rgb(255, 255, 255)"}})]),t._v(" "),i("span",{staticStyle:{color:"#fff"}},[t._v("点击开通会员卡")])]),t._v(" "),i("div",{staticClass:"yd-cell-right yd-cell-arrow"})])])])]),t._v(" "),i("yd-cell-group",[i("yd-cell-item",{attrs:{arrow:""}},[i("yd-icon",{attrs:{slot:"icon",name:"shu",size:".35rem",color:"#2e4057",custom:""},slot:"icon"}),t._v(" "),i("span",{attrs:{slot:"left"},slot:"left"},[t._v("会员卡特权")])],1),t._v(" "),i("yd-cell-item",{attrs:{arrow:""},nativeOn:{click:function(s){t.getcoupons(s)}}},[i("yd-icon",{attrs:{slot:"icon",name:"youhuiquan2",size:".35rem",color:"#2e4057",custom:""},slot:"icon"}),t._v(" "),i("span",{attrs:{slot:"left"},slot:"left"},[t._v("领取优惠券")])],1),t._v(" "),i("yd-cell-item",{attrs:{arrow:""},nativeOn:{click:function(s){t.mycoupons(s)}}},[i("yd-icon",{attrs:{slot:"icon",name:"youhuiquan2",size:".35rem",color:"#2e4057",custom:""},slot:"icon"}),t._v(" "),i("span",{attrs:{slot:"left"},slot:"left"},[t._v("我的优惠券")])],1),t._v(" "),i("yd-cell-item",{attrs:{arrow:""},nativeOn:{click:function(s){t.exchange(s)}}},[i("yd-icon",{attrs:{slot:"icon",name:"duihuan",size:".35rem",color:"#2e4057",custom:""},slot:"icon"}),t._v(" "),i("span",{attrs:{slot:"left"},slot:"left"},[t._v("积分兑换")]),t._v(" "),t.iscarInfo.loyaltyNumber.length>0?i("span",{attrs:{slot:"right"},slot:"right"},[t._v(t._s(t.iscarInfo.bonusPoints)+"积分")]):t._e()],1),t._v(" "),i("yd-cell-item",{attrs:{arrow:""},nativeOn:{click:function(s){t.explain(s)}}},[i("yd-icon",{attrs:{slot:"icon",name:"shu",size:".35rem",color:"#2e4057",custom:""},slot:"icon"}),t._v(" "),i("span",{attrs:{slot:"left"},slot:"left"},[t._v("积分规则和会员卡使用说明")])],1)],1),t._v(" "),t.isShow?i("show",{ref:"showcars",on:{close:t.closecar}}):t._e()],1)},staticRenderFns:[]};var r=o("VU/8")(c,l,!1,function(t){o("fVXH")},null,null);s.default=r.exports}});