webpackJsonp([37],{DbB5:function(t,e){},NDW5:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o("mvHQ"),s=o.n(r),a=o("Dd8w"),n=o.n(a),i=o("uaSg"),l=(o("yclV"),o("ngqk")),c=o("NYxO"),u={computed:n()({},Object(c.b)(["customerinfo"])),components:{"vue-core-image-upload":l.a},data:function(){return{avatar:"",addressMessage:"",consumeCharacter:"",consumeCharacterlist:["有钱任性","最强大脑","完美主义","看我心情"],consumeTrend:"",consumeTrendlist:["线上","线下","线上线下融合"],payTrend:[],payTrendlist:["现金","支付宝","微信","银联卡","其他"],attentionProduct:[],attentionProductlist:["空调","冰洗","彩电","厨卫","生活","数码","潮品"],attentionBrand:[],attentionBrandlist:["国际品牌","国内品牌","合资品牌"],productAttentionPoint:[],productAttentionPointlist:["节能","智能","健康","创新"],hobby:"",customerSalutation:"",professionallist:["政府部门","事业单位","教师","医生","律师","银行职员","自由职业","其他"],income:"",incomelist:["3-8万","8-15万","15-30万","30-100万","100万及以上","其他"],customerEmail:"",customerBirthday:"",radio5:"",uploadURL:i.e,tag:{tag:"repUserInfo"}}},mounted:function(){this.avatar=this.customerinfo.avatar,this.income=this.customerinfo.income,this.hobby=this.customerinfo.hobby,this.addressMessage=this.customerinfo.addressMessage,this.customerBirthday=this.customerinfo.customerBirthday,this.customerEmail=this.customerinfo.customerEmail,this.customerSalutation=this.customerinfo.customerSalutation;var t=JSON.parse(this.customerinfo.customerTags);this.consumeTrend=t.consumeTrend,this.consumeCharacter=t.consumeCharacter,this.payTrend=t.payTrend.split("|"),this.attentionProduct=t.attentionProduct.split("|"),this.attentionBrand=t.attentionBrand.split("|"),this.productAttentionPoint=t.productAttentionPoint.split("|")},methods:{gotoback:function(){this.$router.go(-1)},imageuploaded:function(t){200==t.code&&t.result&&t.result.length>0&&(this.avatar=t.result[0])},getuserInfo:function(){var t=this;Object(i.a)(this,"/api/personal/info",{},"get","获取中...",function(e){e&&(t.$store.dispatch("getCustomerInfo",e.info),t.gotoback())})},repInfo:function(){var t=this;this.customerinfo.avatar=this.avatar,this.customerinfo.income=this.income,this.customerinfo.hobby=this.hobby,this.customerinfo.addressMessage=this.addressMessage,this.customerinfo.customerBirthday=this.customerBirthday,this.customerinfo.customerEmail=this.customerEmail,this.customerinfo.customerSalutation=this.customerSalutation;var e={};e.consumeTrend=this.consumeTrend,e.consumeCharacter=this.consumeCharacter,e.payTrend=this.payTrend.join("|"),e.attentionProduct=this.attentionProduct.join("|"),e.attentionBrand=this.attentionBrand.join("|"),e.productAttentionPoint=this.productAttentionPoint.join("|"),this.customerinfo.customerTags=s()(e),Object(i.a)(this,"/api/personal/info/update",this.customerinfo,"post","提交中...",function(e){t.$dialog.toast({mes:"提交成功!",timeout:1e3,icon:"success",callback:function(){t.getuserInfo()}})})}}},d={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("yd-layout",{attrs:{id:"reperInfo"}},[o("yd-navbar",{attrs:{slot:"navbar",title:"修改用户信息",bgcolor:"#d41d0f",color:"#FFF"},slot:"navbar"},[o("router-link",{attrs:{slot:"left",to:""},nativeOn:{click:function(e){t.gotoback()}},slot:"left"},[o("yd-navbar-back-icon",{attrs:{color:"#FFF"}})],1)],1),t._v(" "),o("yd-cell-group",{staticStyle:{"margin-top":"0.1rem"},attrs:{title:"基本资料"}},[o("yd-cell-item",[o("span",{attrs:{slot:"left"},slot:"left"},[t._v("头像：")]),t._v(" "),o("div",{attrs:{slot:"right"},slot:"right"},[o("vue-core-image-upload",{attrs:{inputOfFile:"file",credentials:!1,crop:!1,data:t.tag,"max-file-size":5242880,compress:70,inputAccept:"image/*",url:t.uploadURL},on:{imageuploaded:t.imageuploaded}},[o("img",{staticClass:"messimg",staticStyle:{height:"0.8rem",width:"0.8rem"},attrs:{src:t.avatar}})])],1)]),t._v(" "),o("yd-cell-item",[o("span",{attrs:{slot:"left"},slot:"left"},[t._v("姓名："),o("i",{staticStyle:{color:"red"}},[t._v("*")])]),t._v(" "),o("yd-input",{attrs:{slot:"right",placeholder:"请输入真实姓名"},slot:"right",model:{value:t.customerinfo.customerNickname,callback:function(e){t.$set(t.customerinfo,"customerNickname",e)},expression:"customerinfo.customerNickname"}})],1),t._v(" "),o("yd-cell-item",[o("span",{attrs:{slot:"left"},slot:"left"},[t._v("性别："),o("i",{staticStyle:{color:"red"}},[t._v("*")])]),t._v(" "),o("div",{attrs:{slot:"right"},slot:"right"},[o("yd-radio-group",{attrs:{color:"#F00"},model:{value:t.customerinfo.customerGender,callback:function(e){t.$set(t.customerinfo,"customerGender",e)},expression:"customerinfo.customerGender"}},[o("yd-radio",{attrs:{val:"1"}},[o("span",[t._v("男")])]),t._v(" "),o("yd-radio",{attrs:{val:"0"}},[o("span",[t._v("女")])]),t._v(" "),o("yd-radio",{attrs:{val:"2"}},[o("span",[t._v("保密")])])],1)],1)]),t._v(" "),o("yd-cell-item",{attrs:{arrow:""}},[o("span",{attrs:{slot:"left"},slot:"left"},[t._v("出生日期：")]),t._v(" "),o("yd-datetime",{attrs:{slot:"right",type:"date","start-date":"1949-01-01 15:13","end-date":"2018-01-01 22:21"},slot:"right",model:{value:t.customerBirthday,callback:function(e){t.customerBirthday=e},expression:"customerBirthday"}})],1),t._v(" "),o("yd-cell-item",[o("span",{attrs:{slot:"left"},slot:"left"},[t._v("邮箱：")]),t._v(" "),o("yd-input",{attrs:{slot:"right",debug:!0,regex:"email",placeholder:"请输入邮箱地址"},slot:"right",model:{value:t.customerEmail,callback:function(e){t.customerEmail=e},expression:"customerEmail"}})],1),t._v(" "),o("yd-cell-item",[o("span",{attrs:{slot:"left"},slot:"left"},[t._v("家庭地址：")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.addressMessage,expression:"addressMessage"}],attrs:{slot:"right",type:"text",placeholder:"请输入家庭地址"},domProps:{value:t.addressMessage},on:{input:function(e){e.target.composing||(t.addressMessage=e.target.value)}},slot:"right"})]),t._v(" "),o("yd-cell-item",[o("span",{attrs:{slot:"left"},slot:"left"},[t._v("爱好：")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.hobby,expression:"hobby"}],attrs:{slot:"right",type:"text",placeholder:"请输入爱好"},domProps:{value:t.hobby},on:{input:function(e){e.target.composing||(t.hobby=e.target.value)}},slot:"right"})]),t._v(" "),o("yd-cell-item",{attrs:{arrow:"",type:"label"}},[o("span",{attrs:{slot:"left"},slot:"left"},[t._v("年收入：")]),t._v(" "),o("select",{directives:[{name:"model",rawName:"v-model",value:t.income,expression:"income"}],attrs:{slot:"right"},on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.income=e.target.multiple?o:o[0]}},slot:"right"},[o("option",{attrs:{value:""}},[t._v("请选择年输入")]),t._v(" "),t._l(t.incomelist,function(e){return o("option",{domProps:{value:e}},[t._v(t._s(e))])})],2)]),t._v(" "),o("yd-cell-item",{attrs:{arrow:"",type:"label"}},[o("span",{attrs:{slot:"left"},slot:"left"},[t._v("职业：")]),t._v(" "),o("select",{directives:[{name:"model",rawName:"v-model",value:t.customerSalutation,expression:"customerSalutation"}],attrs:{slot:"right"},on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.customerSalutation=e.target.multiple?o:o[0]}},slot:"right"},[o("option",{attrs:{value:""}},[t._v("请选择职业")]),t._v(" "),t._l(t.professionallist,function(e){return o("option",{domProps:{value:e}},[t._v(t._s(e))])})],2)])],1),t._v(" "),o("yd-cell-group",{attrs:{title:"自定义标签"}},[o("yd-cell-item",{attrs:{arrow:"",type:"label"}},[o("span",{attrs:{slot:"left"},slot:"left"},[t._v("购物性格：")]),t._v(" "),o("select",{directives:[{name:"model",rawName:"v-model",value:t.consumeCharacter,expression:"consumeCharacter"}],attrs:{slot:"right"},on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.consumeCharacter=e.target.multiple?o:o[0]}},slot:"right"},[o("option",{attrs:{value:""}},[t._v("请选择购物性格")]),t._v(" "),t._l(t.consumeCharacterlist,function(e){return o("option",{domProps:{value:e}},[t._v(t._s(e))])})],2)]),t._v(" "),o("yd-cell-item",{attrs:{arrow:"",type:"label"}},[o("span",{attrs:{slot:"left"},slot:"left"},[t._v("消费方式：")]),t._v(" "),o("select",{directives:[{name:"model",rawName:"v-model",value:t.consumeTrend,expression:"consumeTrend"}],attrs:{slot:"right"},on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.consumeTrend=e.target.multiple?o:o[0]}},slot:"right"},[o("option",{attrs:{value:""}},[t._v("请选择消费方式倾向")]),t._v(" "),t._l(t.consumeTrendlist,function(e){return o("option",{domProps:{value:e}},[t._v(t._s(e))])})],2)]),t._v(" "),o("yd-cell-item",[o("span",{attrs:{slot:"left"},slot:"left"},[t._v("支付方式：")]),t._v(" "),o("yd-checkbox-group",{attrs:{slot:"right",color:"#F00",size:"16"},slot:"right",model:{value:t.payTrend,callback:function(e){t.payTrend=e},expression:"payTrend"}},t._l(t.payTrendlist,function(t,e){return o("yd-checkbox",{key:e,attrs:{shape:"circle",val:t}})}))],1),t._v(" "),o("yd-cell-item",[o("span",{attrs:{slot:"left"},slot:"left"},[t._v("关注产品：")]),t._v(" "),o("yd-checkbox-group",{attrs:{slot:"right",color:"#F00",size:"16"},slot:"right",model:{value:t.attentionProduct,callback:function(e){t.attentionProduct=e},expression:"attentionProduct"}},t._l(t.attentionProductlist,function(t,e){return o("yd-checkbox",{key:e,attrs:{shape:"circle",val:t}})}))],1),t._v(" "),o("yd-cell-item",[o("span",{attrs:{slot:"left"},slot:"left"},[t._v("关注品牌：")]),t._v(" "),o("yd-checkbox-group",{attrs:{slot:"right",color:"#F00",size:"16"},slot:"right",model:{value:t.attentionBrand,callback:function(e){t.attentionBrand=e},expression:"attentionBrand"}},t._l(t.attentionBrandlist,function(t,e){return o("yd-checkbox",{key:e,attrs:{shape:"circle",val:t}})}))],1),t._v(" "),o("yd-cell-item",[o("span",{attrs:{slot:"left"},slot:"left"},[t._v("产品关注点：")]),t._v(" "),o("yd-checkbox-group",{attrs:{slot:"right",color:"#F00",size:"16"},slot:"right",model:{value:t.productAttentionPoint,callback:function(e){t.productAttentionPoint=e},expression:"productAttentionPoint"}},t._l(t.productAttentionPointlist,function(t,e){return o("yd-checkbox",{key:e,attrs:{shape:"circle",val:t}})}))],1)],1),t._v(" "),o("yd-button",{staticStyle:{"background-color":"#d41d0f",margin:"auto",width:"80%","margin-top":"20px","font-size":".3rem"},attrs:{size:"large",type:"primary"},nativeOn:{click:function(e){t.repInfo(e)}}},[t._v("提交")])],1)},staticRenderFns:[]};var m=o("VU/8")(u,d,!1,function(t){o("DbB5"),o("gVFu")},"data-v-5019eb14",null);e.default=m.exports},gVFu:function(t,e){}});